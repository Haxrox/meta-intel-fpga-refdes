From e933be654b11a0f3a924b6ce786d13e383ca121d Mon Sep 17 00:00:00 2001
From: "Teoh, Ji Sheng" <ji.sheng.teoh@intel.com>
Date: Mon, 22 Nov 2021 08:28:33 +0000
Subject: [PATCH] arm64: dts: agilex/stratix10: Update QSPI rootfs partition

In order to support larger kernel FIT image to be stored on
QSPI flash, the rootfs partition starting offset is adjusted.
The final rootfs partition is resized from 192MB to 172MB.

Signed-off-by: Yau Wai Gan <yau.wai.gan@intel.com>
---
 arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts      | 4 ++--
 arch/arm64/boot/dts/altera/socfpga_stratix10_socdk_nand.dts | 4 ++--
 arch/arm64/boot/dts/intel/socfpga_agilex_socdk.dts          | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts b/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts
index 0df18c0c7674..a56089c39081 100644
--- a/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts
+++ b/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts
@@ -180,12 +180,12 @@
 
 			qspi_boot: partition@0 {
 				label = "Boot and fpga data";
-				reg = <0x0 0x03FE0000>;
+				reg = <0x0 0x05320000>;
 			};
 
 			qspi_rootfs: partition@3FE0000 {
 				label = "Root Filesystem - JFFS2";
-				reg = <0x03FE0000 0x0C020000>;
+				reg = <0x05320000 0x0ACE0000>;
 			};
 		};
 	};
diff --git a/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk_nand.dts b/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk_nand.dts
index b1b7fe705e0e..4149bb99706d 100644
--- a/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk_nand.dts
+++ b/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk_nand.dts
@@ -213,12 +213,12 @@
 
 			qspi_boot: partition@0 {
 				label = "Boot and fpga data";
-				reg = <0x0 0x03FE0000>;
+				reg = <0x0 0x05320000>;
 			};
 
 			qspi_rootfs: partition@3FE0000 {
 				label = "Root Filesystem - JFFS2";
-				reg = <0x03FE0000 0x0C020000>;
+				reg = <0x05320000 0x0ACE0000>;
 			};
 		};
 	};
diff --git a/arch/arm64/boot/dts/intel/socfpga_agilex_socdk.dts b/arch/arm64/boot/dts/intel/socfpga_agilex_socdk.dts
index cb3147e23c5f..ba441bdd51ec 100644
--- a/arch/arm64/boot/dts/intel/socfpga_agilex_socdk.dts
+++ b/arch/arm64/boot/dts/intel/socfpga_agilex_socdk.dts
@@ -130,12 +130,12 @@
 
 			qspi_boot: partition@0 {
 				label = "Boot and fpga data";
-				reg = <0x0 0x03FE0000>;
+				reg = <0x0 0x05320000>;
 			};
 
 			qspi_rootfs: partition@3FE0000 {
 				label = "Root Filesystem - JFFS2";
-				reg = <0x03FE0000 0x0C020000>;
+				reg = <0x05320000 0x0ACE0000>;
 			};
 		};
 	};
-- 
2.17.1

